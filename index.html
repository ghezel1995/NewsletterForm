<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Monoton&family=Roboto&display=swap"
      rel="stylesheet"
    />
    <title>ðŸ“°Newsletter Form</title>
  </head>
  <body>
    <div class="app">
      <div class="middle container">
        <div class="main container w-75 row">
          <div class="form-section col-lg-6">
            <h1>Stay updated!</h1>
            <p>Join 600,000+ product managers receiving Monthly updates of:</p>
            <p class="updates">
              <i class="bi bi-check-circle-fill"></i> Product discovery
            </p>
            <p class="updates">
              <i class="bi bi-check-circle-fill"></i> What matters
            </p>
            <p class="updates">
              <i class="bi bi-check-circle-fill"></i> Much more!
            </p>
            <form id="newsletterForm">
              <div class="mb-3">
                <label for="email" class="email-label">Email Address : </label>
                <br />
                <input
                  id="email"
                  class="form-control email-inp"
                  type="email"
                  placeholder="Please enter your Email"
                  autofocus
                  autocomplete="off"
                />
                <button type="submit" class="email-btn">Submit</button>
              </div>
            </form>

            <div id="successMessage" style="display: none">
              Subscription successful! ðŸ˜‰
            </div>
          </div>
          <div class="img-section col-lg-6">
            <img src="images/message.svg" class="form-image" alt="" />
          </div>
        </div>
      </div>
    </div>
    <script>
      document
        .getElementById('newsletterForm')
        .addEventListener('submit', function (event) {
          event.preventDefault();

          let email = document.getElementById('email').value;
          if (!email) {
            alert('Please enter your email');
            return;
          } else {
            console.log(email);

            let subscriber = { email: email };
            let subscribers = localStorage.getItem('subscribers');
            if (subscribers) {
              subscribers = JSON.parse(subscribers);
              subscribers.push(subscriber);
            } else {
              subscribers = [subscriber];
            }
            localStorage.setItem('subscribers', JSON.stringify(subscribers));

            document.getElementById('successMessage').style.display = 'block';

            document.getElementById('newsletterForm').reset();
          }
        });
    </script>
  </body>
</html>
